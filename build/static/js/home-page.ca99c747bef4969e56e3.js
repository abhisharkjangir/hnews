(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1Zw6":function(t,e,n){t.exports={newsItem:"NewsListing-71rJB",comments:"NewsListing-ZeAXW",votesCount:"NewsListing-33bTs",upVotes:"NewsListing-203T1",newsDetails:"NewsListing-z6o09",title:"NewsListing-_2IZC",details:"NewsListing-2RDWt",col:"NewsListing-3NRwA",pagination:"NewsListing-17V9M"}},"3Pbc":function(t,e,n){"use strict";n.r(e);var r=n("Ty5D"),o=n("/MKj"),a=n("G4qV"),c=n("q1tI"),i=n.n(c),u=n("17x9"),s=n.n(u),l=n("4XXU"),f=n("JtZE"),p=n.n(f);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}c.PureComponent;var j,E,N,P=function(t){h(n,t);var e=w(n);function n(){return y(this,n),e.apply(this,arguments)}return d(n,[{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=(t.stroke,t.payload);return i.a.createElement("g",{transform:"translate(".concat(e,",").concat(n,")")},i.a.createElement("text",{x:0,y:0,dy:5,fontSize:12,textAnchor:"end",fill:"#666",transform:"rotate(-90)"},r.value))}}]),n}(c.PureComponent),S=function(t){h(n,t);var e=w(n);function n(){return y(this,n),e.apply(this,arguments)}return d(n,[{key:"render",value:function(){return i.a.createElement("div",{className:p.a.chartWrapper},i.a.createElement(l.e,{width:"97%",height:300},i.a.createElement(l.d,{className:p.a.chart,width:500,height:200,data:this.props.data,margin:{top:15,bottom:60,left:15,right:15}},i.a.createElement(l.a,{strokeDasharray:"1 1"}),i.a.createElement(l.g,{dataKey:"id",tick:i.a.createElement(P,null),interval:0,padding:{left:10,right:10}},i.a.createElement(l.b,{value:"Id",offset:-50,position:"insideBottom"})),i.a.createElement(l.h,{dataKey:"points"},i.a.createElement(l.b,{value:"Comments / Votes",offset:15,angle:"-90"})),i.a.createElement(l.f,null),i.a.createElement(l.c,{type:"monotone",dataKey:"comments",stroke:"blue"}),i.a.createElement(l.c,{type:"monotone",dataKey:"points",stroke:"red"}),i.a.createElement(l.b,{dataKey:"id",position:"bottom"}))))}}]),n}(c.PureComponent);N="https://jsfiddle.net/alidingling/xqjtetw0/",(E="jsfiddleUrl")in(j=S)?Object.defineProperty(j,E,{value:N,enumerable:!0,configurable:!0,writable:!0}):j[E]=N,S.propTypes={data:s.a.object};var D=S,C=n("DI/g");function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _=function(t,e){return!C.a&&(localStorage.setItem(t,"object"===I(e)?JSON.stringify(e):e),!0)},k=function(t){if(!C.a){var e=localStorage.getItem(t);return"string"==typeof e?JSON.parse(e):e}return!1},A=n("TSYQ"),R=n.n(A),x=n("1Zw6"),M=n.n(x),T=function(t){var e=new Date(t),n=Math.floor((new Date-e)/1e3),r=Math.floor(n/31536e3);return r>1?"".concat(r," years ago"):(r=Math.floor(n/2592e3))>1?"".concat(r," months ago"):(r=Math.floor(n/86400))>1?"".concat(r," days ago"):(r=Math.floor(n/3600))>1?"".concat(r," hours ago"):(r=Math.floor(n/60))>1?"".concat(r," minutes ago"):"".concat(Math.floor(n)," seconds ago")},L=function(t){return""===t?{}:JSON.parse('{"'.concat(decodeURI(t.replace(/&/g,'","').replace(/=/g,'":"')),'"}'))},J=n("3+YP");function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(t){return function(t){if(Array.isArray(t))return K(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var H=function(t){var e=t.updateNewsData,n=t.filteredHits,r=t.news,o=t.history,a=t.fetchNews,c=r.data,u=r.data,s=u.hits,l=u.page,f=u.nbPages,p=k("hidden")||[],m=function(t){var e=o.push,n=o.location;if(n){var r=n.search,c=U(U({},L(r.substring(1))),t);e({path:"/",search:Object(J.a)(c)}),a(c)}},y=function(t){var n=t.title,r=t.num_comments,o=t.points,a=t.url,u=t.author,l=t.created_at,f=t.objectID;return i.a.createElement("li",{className:M.a.newsItem},i.a.createElement("div",{className:M.a.col},i.a.createElement("div",{className:M.a.comments},i.a.createElement("span",{className:"lg-hide md-hide"},"Comments: "),r),i.a.createElement("div",{className:M.a.votesCount},i.a.createElement("span",{className:"lg-hide md-hide"},"Points: "),o),i.a.createElement("button",{type:"button",className:M.a.upVotes,onClick:function(){return t=f,n=s.map((function(e){return e.objectID===t?U(U({},e),{},{points:e.points+1}):e})),void e(U(U({},c),{},{hits:n}));var t,n}},i.a.createElement("span",{className:"lg-hide md-hide"},"Upvote: "),"â–²")),i.a.createElement("div",{className:M.a.newsDetails},i.a.createElement("div",{className:M.a.title},i.a.createElement("a",{href:a},n),i.a.createElement("span",{className:M.a.details},i.a.createElement("button",{type:"button",className:M.a.url,onClick:function(){return m({page:0,tags:"author_".concat(u)})}}," (".concat(function(t){var e=t&&t.split("//")||[];return e.length>=2?e[1].split("/")[0]:e.length>=1?e[0].split("/")[0]:t}(a),") ")),i.a.createElement("button",{type:"button",className:M.a.author,onClick:function(){return m({page:0,tags:"author_".concat(u)})}}," by ".concat(u," ")),i.a.createElement("span",{className:M.a.time},"".concat(T(l))),i.a.createElement("button",{type:"button",onClick:function(){return t=f,_("hidden",p?[].concat(F(p),[t]):[t]),p=[].concat(F(p),[t]),void e(U(U({},c),{},{hits:s.filter((function(t){return!p.includes(t.objectID)}))}));var t}},"[ Hide ]")))))};return i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:M.a.newslist},i.a.createElement("li",{className:R()(M.a.newsItem,"sm-hide","xs-hide")},i.a.createElement("div",{className:M.a.col},i.a.createElement("div",{className:M.a.comments},"Comments"),i.a.createElement("div",{className:M.a.votesCount},"Votes Count"),i.a.createElement("div",{className:M.a.upVotes}," Up Votes ")),i.a.createElement("div",{className:M.a.newsDetails},"News Details")),n&&n.map((function(t){return y(t)}))),i.a.createElement("div",{className:M.a.pagination},i.a.createElement("button",{type:"button",onClick:function(){return m({page:0!==l?l-1:l})}},"Previous")," | ",i.a.createElement("button",{type:"button",onClick:function(){return m({page:l<f?l+1:f})}},"Next")))};H.propTypes={news:s.a.object.isRequired,filteredHits:s.a.object,updateNewsData:s.a.func,history:s.a.object,fetchNews:s.a.func},H.defaultProps={};var q=H;function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t){return function(t){if(Array.isArray(t))return X(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rt(t);if(e){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?nt(t):e}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(a,t);var e,n,r,o=tt(a);function a(){var t;$(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ot(nt(t=o.call.apply(o,[this].concat(n))),"upvote",(function(e){var n=t.props,r=n.updateNewsData,o=n.news.data,a=o.hits.map((function(t){return t.objectID===e?Y(Y({},t),{},{points:t.points+1}):t}));r(Y(Y({},o),{},{hits:a}))})),ot(nt(t),"hideHit",(function(t){var e=k("hidden");_("hidden",e?[].concat(z(e),[t]):[t])})),t}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this.props,e=t.fetchNews,n=t.news,r=n.isFetching,o=n.data;r||o||e()}},{key:"render",value:function(){var t=this.props,e=t.updateNewsData,n=t.news,r=n.isFetching,o=n.data;if(r)return"Fetching news list...";var a=o.hits,c=k("hidden")||[],u=a.filter((function(t){return!c.includes(t.objectID)})),s=u.map((function(t){var e=t.num_comments,n=t.objectID,r=t.title;return{comments:e,id:n,points:t.points,name:r}}));return i.a.createElement("div",null,i.a.createElement(q,{news:this.props.news,data:o,updateNewsData:e,filteredHits:u,history:this.props.history,fetchNews:this.props.fetchNews}),i.a.createElement(D,{data:s}))}}])&&G(e.prototype,n),r&&G(e,r),a}(i.a.PureComponent);at.propTypes={fetchNews:s.a.func,news:s.a.object,updateNewsData:s.a.func,history:s.a.object};var ct=at,it=n("Mpt7"),ut=n("Cc4z"),st=Object(a.a)((function(t){return t.get(ut.e)}),(function(t){return t.get("news")})),lt=n("93Lf"),ft=Object(a.b)({news:Object(a.a)(st,(function(t){return{isFetching:t.get("isFetching"),data:Object(it.isImmutable)(t.get("data"))?t.get("data").toJS():t.get("data")||{hits:[]},error:t.get("error")}}))});e.default=Object(o.connect)(ft,(function(t){return{fetchNews:function(e){return t(Object(lt.a)(e))},updateNewsData:function(e){return t(Object(lt.c)(e))}}}))(Object(r.withRouter)(ct))},JtZE:function(t,e,n){t.exports={chart:"Chart-2sO73",chartWrapper:"Chart-3ZatO"}}}]);
//# sourceMappingURL=home-page.ca99c747bef4969e56e3.js.map