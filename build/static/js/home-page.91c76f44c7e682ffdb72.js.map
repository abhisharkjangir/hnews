{"version":3,"sources":["webpack:///./src/components/NewsListing/NewsListing.scss?7f0c","webpack:///./src/components/Chart/Chart.jsx","webpack:///./src/utils/localstorage.js","webpack:///./src/utils/timeSince.js","webpack:///./src/utils/queryStringToObject.js","webpack:///./src/components/NewsListing/NewsListing.jsx","webpack:///./src/components/pages/Home/Home.jsx","webpack:///./src/containers/pages/Home/selectors.js","webpack:///./src/containers/pages/Home/Home.jsx","webpack:///./src/components/Chart/Chart.scss?269c"],"names":["module","exports","PureComponent","CustomizedAxisTick","this","props","x","y","payload","stroke","transform","dy","fontSize","textAnchor","fill","value","Chart","className","styles","chartWrapper","width","height","chart","data","margin","top","bottom","left","right","strokeDasharray","dataKey","tick","interval","padding","offset","position","angle","type","propTypes","PropTypes","object","setInLocalStorage","key","isServer","localStorage","setItem","JSON","stringify","getFromLocalStorage","getItem","parse","timeSince","d","date","Date","seconds","Math","floor","queryStringToObject","queryString","decodeURI","replace","NewsListing","updateNewsData","filteredHits","news","history","fetchNews","hits","page","nbPages","hiddenHits","applyFilters","filters","push","location","search","allFilters","substring","path","objectToQueryString","newsItem","title","numCommnets","num_comments","points","url","author","createdAt","created_at","objectID","col","comments","votesCount","upVotes","onClick","id","updatedHits","map","h","newsDetails","href","details","tags","urlParts","split","length","formatURL","time","filter","includes","Fragment","newslist","classnames","hit","pagination","isRequired","func","defaultProps","Home","isFetching","chartdata","name","React","newsState","createSelector","state","get","HOME_STATE_KEY","hs","mapStateToProps","createStructuredSelector","ns","toJS","error","connect","dispatch","fetchNewsSucees","withRouter"],"mappings":"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","file":"static/js/home-page.91c76f44c7e682ffdb72.js","sourcesContent":["// extracted by extract-css-chunks-webpack-plugin\nmodule.exports = {\"newsItem\":\"NewsListing-71rJB\",\"comments\":\"NewsListing-ZeAXW\",\"votesCount\":\"NewsListing-33bTs\",\"upVotes\":\"NewsListing-203T1\",\"newsDetails\":\"NewsListing-z6o09\",\"title\":\"NewsListing-_2IZC\",\"details\":\"NewsListing-2RDWt\",\"col\":\"NewsListing-3NRwA\",\"pagination\":\"NewsListing-17V9M\"};","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\nimport React, { PureComponent } from 'react';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  Legend,\r\n  Label,\r\n} from 'recharts';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Chart.scss';\r\n// import isServer from '../../utils/isServer';\r\n\r\nclass CustomizedLabel extends PureComponent {\r\n  render() {\r\n    const { x, y, stroke, value } = this.props;\r\n\r\n    return (\r\n      <text x={x} y={y} dy={-4} fill={stroke} fontSize={10} textAnchor=\"middle\">\r\n        {value}\r\n      </text>\r\n    );\r\n  }\r\n}\r\nexport class CustomizedAxisTick extends PureComponent {\r\n  render() {\r\n    const { x, y, stroke, payload } = this.props;\r\n\r\n    return (\r\n      <g transform={`translate(${x},${y})`}>\r\n        <text\r\n          x={0}\r\n          y={0}\r\n          dy={5}\r\n          fontSize={12}\r\n          textAnchor=\"end\"\r\n          fill=\"#666\"\r\n          transform=\"rotate(-90)\"\r\n        >\r\n          {payload.value}\r\n        </text>\r\n      </g>\r\n    );\r\n  }\r\n}\r\n\r\nclass Chart extends PureComponent {\r\n  static jsfiddleUrl = 'https://jsfiddle.net/alidingling/xqjtetw0/';\r\n\r\n  render() {\r\n    // const width = (!isServer && window && window.innerWidth) - 50 || 500;\r\n    return (\r\n      <div className={styles.chartWrapper}>\r\n        <ResponsiveContainer width=\"97%\" height={300}>\r\n          <LineChart\r\n            className={styles.chart}\r\n            width={500}\r\n            height={200}\r\n            data={this.props.data}\r\n            margin={{ top: 15, bottom: 60, left: 15, right: 15 }}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"1 1\" />\r\n            <XAxis\r\n              dataKey=\"id\"\r\n              tick={<CustomizedAxisTick />}\r\n              interval={0}\r\n              padding={{ left: 10, right: 10 }}\r\n            >\r\n              <Label value=\"Id\" offset={-50} position=\"insideBottom\" />\r\n            </XAxis>\r\n            <YAxis dataKey=\"points\">\r\n              <Label value=\"Comments / Votes\" offset={15} angle=\"-90\" />\r\n            </YAxis>\r\n\r\n            <Tooltip />\r\n            <Line type=\"monotone\" dataKey=\"comments\" stroke=\"blue\" />\r\n            <Line type=\"monotone\" dataKey=\"points\" stroke=\"red\" />\r\n            <Label dataKey=\"id\" position=\"bottom\" />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChart.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default Chart;\r\n","import isServer from './isServer';\r\n\r\nexport const setInLocalStorage = (key, value) => {\r\n  if (!isServer) {\r\n    localStorage.setItem(\r\n      key,\r\n      typeof value === 'object' ? JSON.stringify(value) : value\r\n    );\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const getFromLocalStorage = key => {\r\n  if (!isServer) {\r\n    const value = localStorage.getItem(key);\r\n    return typeof value === 'string' ? JSON.parse(value) : value;\r\n  }\r\n  return false;\r\n};\r\n","const timeSince = d => {\r\n  const date = new Date(d);\r\n\r\n  const seconds = Math.floor((new Date() - date) / 1000);\r\n\r\n  let interval = Math.floor(seconds / 31536000);\r\n\r\n  if (interval > 1) {\r\n    return `${interval} years ago`;\r\n  }\r\n  interval = Math.floor(seconds / 2592000);\r\n  if (interval > 1) {\r\n    return `${interval} months ago`;\r\n  }\r\n  interval = Math.floor(seconds / 86400);\r\n  if (interval > 1) {\r\n    return `${interval} days ago`;\r\n  }\r\n  interval = Math.floor(seconds / 3600);\r\n  if (interval > 1) {\r\n    return `${interval} hours ago`;\r\n  }\r\n  interval = Math.floor(seconds / 60);\r\n  if (interval > 1) {\r\n    return `${interval} minutes ago`;\r\n  }\r\n  return `${Math.floor(seconds)} seconds ago`;\r\n};\r\n\r\nexport default timeSince;\r\n","const queryStringToObject = queryString => {\r\n  if (queryString === '') return {};\r\n  return JSON.parse(\r\n    `{\"${decodeURI(queryString.replace(/&/g, '\",\"').replace(/=/g, '\":\"'))}\"}`\r\n  );\r\n};\r\n\r\nexport default queryStringToObject;\r\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-static-element-interactions */\r\nimport React from 'react';\r\nimport classnames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './NewsListing.scss';\r\nimport timeSince from '../../utils/timeSince';\r\nimport {\r\n  getFromLocalStorage,\r\n  setInLocalStorage,\r\n} from '../../utils/localstorage';\r\nimport queryStringToObject from '../../utils/queryStringToObject';\r\nimport objectToQueryString from '../../utils/objectToQueryString';\r\n\r\nconst NewsListing = ({\r\n  updateNewsData,\r\n  filteredHits,\r\n  news,\r\n  history,\r\n  fetchNews,\r\n}) => {\r\n  const {\r\n    data,\r\n    data: { hits, page, nbPages },\r\n  } = news;\r\n  let hiddenHits = getFromLocalStorage('hidden') || [];\r\n  const hideHit = id => {\r\n    if (hiddenHits) {\r\n      setInLocalStorage('hidden', [...hiddenHits, id]);\r\n    } else {\r\n      setInLocalStorage('hidden', [id]);\r\n    }\r\n    hiddenHits = [...hiddenHits, id];\r\n    updateNewsData({\r\n      ...data,\r\n      hits: hits.filter(h => !hiddenHits.includes(h.objectID)),\r\n    });\r\n  };\r\n\r\n  const formatURL = url => {\r\n    const urlParts = (url && url.split('//')) || [];\r\n    if (urlParts.length >= 2) return urlParts[1].split('/')[0];\r\n    if (urlParts.length >= 1) return urlParts[0].split('/')[0];\r\n    return url;\r\n  };\r\n\r\n  const upvote = id => {\r\n    const updatedHits = hits.map(h => {\r\n      if (h.objectID === id) return { ...h, points: h.points + 1 };\r\n      return h;\r\n    });\r\n    updateNewsData({ ...data, hits: updatedHits });\r\n  };\r\n\r\n  const applyFilters = filters => {\r\n    const { push, location } = history;\r\n    if (location) {\r\n      const { search } = location;\r\n      const appliedFilters = queryStringToObject(search.substring(1));\r\n      const allFilters = { ...appliedFilters, ...filters };\r\n      const newQueryParams = objectToQueryString(allFilters);\r\n      push({ path: '/', search: newQueryParams });\r\n      fetchNews(allFilters);\r\n    }\r\n  };\r\n\r\n  const newsItem = ({\r\n    title,\r\n    num_comments: numCommnets,\r\n    points,\r\n    url,\r\n    author,\r\n    created_at: createdAt,\r\n    objectID,\r\n  }) => {\r\n    return (\r\n      <li className={styles.newsItem}>\r\n        <div className={styles.col}>\r\n          <div className={styles.comments}>\r\n            <span className=\"lg-hide md-hide\">Comments: </span>\r\n            {numCommnets}\r\n          </div>\r\n          <div className={styles.votesCount}>\r\n            <span className=\"lg-hide md-hide\">Points: </span>\r\n            {points}\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className={styles.upVotes}\r\n            onClick={() => upvote(objectID)}\r\n          >\r\n            <span className=\"lg-hide md-hide\">Upvote: </span>\r\n            &#9650;\r\n          </button>\r\n        </div>\r\n        <div className={styles.newsDetails}>\r\n          <div className={styles.title}>\r\n            <a href={url}>{title}</a>\r\n            <span className={styles.details}>\r\n              <button\r\n                type=\"button\"\r\n                className={styles.url}\r\n                onClick={() =>\r\n                  applyFilters({ page: 0, tags: `author_${author}` })\r\n                }\r\n              >\r\n                {` (${formatURL(url)}) `}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className={styles.author}\r\n                onClick={() =>\r\n                  applyFilters({ page: 0, tags: `author_${author}` })\r\n                }\r\n              >\r\n                {` by ${author} `}\r\n              </button>\r\n              <span className={styles.time}>{`${timeSince(createdAt)}`}</span>\r\n              <button type=\"button\" onClick={() => hideHit(objectID)}>\r\n                [ Hide ]\r\n              </button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ul className={styles.newslist}>\r\n        <li className={classnames(styles.newsItem, 'sm-hide', 'xs-hide')}>\r\n          <div className={styles.col}>\r\n            <div className={styles.comments}>Comments</div>\r\n            <div className={styles.votesCount}>Votes Count</div>\r\n            <div className={styles.upVotes}> Up Votes </div>\r\n          </div>\r\n          <div className={styles.newsDetails}>News Details</div>\r\n        </li>\r\n        {filteredHits && filteredHits.map(hit => newsItem(hit))}\r\n      </ul>\r\n      <div className={styles.pagination}>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => applyFilters({ page: page !== 0 ? page - 1 : page })}\r\n        >\r\n          Previous\r\n        </button>\r\n        {` | `}\r\n        <button\r\n          type=\"button\"\r\n          onClick={() =>\r\n            applyFilters({ page: page < nbPages ? page + 1 : nbPages })\r\n          }\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nNewsListing.propTypes = {\r\n  news: PropTypes.object.isRequired,\r\n  filteredHits: PropTypes.object,\r\n  updateNewsData: PropTypes.func,\r\n  history: PropTypes.object,\r\n  fetchNews: PropTypes.func,\r\n};\r\n\r\nNewsListing.defaultProps = {};\r\n\r\nexport default NewsListing;\r\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-static-element-interactions */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Chart from '../../Chart/Chart';\r\nimport {\r\n  getFromLocalStorage,\r\n  setInLocalStorage,\r\n} from '../../../utils/localstorage';\r\nimport NewsListing from '../../NewsListing/NewsListing';\r\n\r\nclass Home extends React.PureComponent {\r\n  componentDidMount() {\r\n    const {\r\n      fetchNews,\r\n      news: { isFetching, data },\r\n    } = this.props;\r\n    if (!isFetching && !data) fetchNews();\r\n  }\r\n\r\n  upvote = id => {\r\n    const {\r\n      updateNewsData,\r\n      news: { data },\r\n    } = this.props;\r\n    const { hits } = data;\r\n\r\n    const updatedHits = hits.map(h => {\r\n      if (h.objectID === id) return { ...h, points: h.points + 1 };\r\n      return h;\r\n    });\r\n    updateNewsData({ ...data, hits: updatedHits });\r\n  };\r\n\r\n  hideHit = id => {\r\n    const hiddenHits = getFromLocalStorage('hidden');\r\n    if (hiddenHits) {\r\n      setInLocalStorage('hidden', [...hiddenHits, id]);\r\n    } else {\r\n      setInLocalStorage('hidden', [id]);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      updateNewsData,\r\n      news: { isFetching, data },\r\n    } = this.props;\r\n\r\n    if (isFetching) {\r\n      return 'fetcging';\r\n    }\r\n\r\n    const { hits } = data;\r\n    const hiddenHits = getFromLocalStorage('hidden') || [];\r\n    const filteredHits = hits.filter(h => !hiddenHits.includes(h.objectID));\r\n\r\n    const chartdata = filteredHits.map(\r\n      ({ num_comments: numCommnets, objectID, title, points }) => {\r\n        return {\r\n          comments: numCommnets,\r\n          id: objectID,\r\n          points,\r\n          name: title,\r\n        };\r\n      }\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <NewsListing\r\n          news={this.props.news}\r\n          data={data}\r\n          updateNewsData={updateNewsData}\r\n          filteredHits={filteredHits}\r\n          history={this.props.history}\r\n          fetchNews={this.props.fetchNews}\r\n        />\r\n        <Chart data={chartdata} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHome.propTypes = {\r\n  fetchNews: PropTypes.func,\r\n  news: PropTypes.object,\r\n  updateNewsData: PropTypes.func,\r\n  history: PropTypes.object,\r\n};\r\n\r\nexport default Home;\r\n","import { createSelector } from 'reselect';\r\nimport { HOME_STATE_KEY } from './constants';\r\nexport const homeState = state => state.get(HOME_STATE_KEY);\r\nexport const newsState = createSelector(homeState, hs => hs.get('news'));\r\n\r\nexport const selectNews = () =>\r\n  createSelector(newsState, ns => {\r\n    return {\r\n      isFetching: ns.get('isFetching'),\r\n      data: ns.get('data').toJS(),\r\n      error: ns.get('error'),\r\n    };\r\n  });\r\n","import { withRouter } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport Home from '../../../components/pages/Home/Home';\r\nimport { selectNews } from './selectors';\r\nimport { fetchNews, fetchNewsSucees } from './actions';\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  news: selectNews(),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchNews: payload => dispatch(fetchNews(payload)),\r\n  updateNewsData: data => dispatch(fetchNewsSucees(data)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Home));\r\n","// extracted by extract-css-chunks-webpack-plugin\nmodule.exports = {\"chart\":\"Chart-2sO73\",\"chartWrapper\":\"Chart-3ZatO\"};"],"sourceRoot":""}